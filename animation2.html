<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>输出每个animation动画事件出现时的信息</title>
	<style type="text/css">
		.slidein {
  			animation-duration: 3s;
  			animation-name: slidein;
  			animation-iteration-count: 3;
  			animation-direction: alternate;
		}
    
		@keyframes slidein {
  			from {
    			margin-left:100%;
    			width:300%
  			}
      
  			to {
    			margin-left:0%;
    			width:100%;
  			}
		}
	</style>
</head>
<body>
	<h1 id="watchme">Watch me move</h1>
  <p>This example shows how to use CSS animations to make <code>h1</code> elements
  move across the page.</p>
  <p>In addition, we output some text each time an animation event fires, so you can see them in action.</p>
  <ul id="output">
  </ul>
  <script type="text/javascript">
  	function sample(){
  		var e = document.getElementById("watchme");
		e.addEventListener("animationstart", listener, false);
		e.addEventListener("animationend", listener, false);
		e.addEventListener("animationiteration", listener, false);

		e.className = "slidein";
  	}
  	

	function listener(e) {
  		var l = document.createElement("li");
  		switch(e.type) {
    		case "animationstart":
      			l.innerHTML = "Started: elapsed time is " + e.elapsedTime;
      			break;
    		case "animationend":
      			l.innerHTML = "Ended: elapsed time is " + e.elapsedTime;
      			break;
    		case "animationiteration":
      			l.innerHTML = "New loop started at time " + e.elapsedTime;
      			break;
  		}
  		document.getElementById("output").appendChild(l);
	}

	document.addEventListener('DOMContentLoaded',sample, false);
  </script>
</body>
</html>